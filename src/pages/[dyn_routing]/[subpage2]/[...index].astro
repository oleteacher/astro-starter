---
//Imports
import { useTranslations } from "@i18n/utils";
import Base from "@layouts/Base.astro";
import "@styles/markdown.css";
import Counter from "@components/Counter.svelte";

// Get current language from URL
export function getStaticPaths() {
    return [
        // English route: /dynamic-routing/subpage-2
        // [dyn_routing] = "dynamic-routing" matches the folder name
        // [subpage2] = "subpage-2" is the specific subpage
        // [...index] = undefined means no additional URL segments
        {
            params: {
                dyn_routing: "dynamic-routing",
                subpage2: "subpage-2",
                index: undefined,
            },
            props: { lang: "en" },
        },
        // Slovenian route: /sl/dinamicno-usmerjanje/podstran-2
        // [dyn_routing] = "sl" acts as language prefix in URL
        // [subpage2] = "dinamicno-usmerjanje" is the localized "dynamic-routing" path
        // [...index] = "podstran-2" captures the localized subpage name
        // This creates the final URL: /sl/dinamicno-usmerjanje/podstran-2
        {
            params: {
                dyn_routing: "sl",
                subpage2: "dinamicno-usmerjanje",
                index: "podstran-2",
            },
            props: { lang: "sl" },
        },
    ];
}

// Props
const { lang } = Astro.props;

// Translations
const t = useTranslations(lang);
---

<Base
    title={t("routing:subpages.subpage-2.title")}
    meta={{
        description: t("routing:subpages.subpage-2.description"),
        keywords: t("routing:subpages.subpage-2.keywords"),
    }}
>
    <section id="md-content">
        <h1>{t("routing:subpages.subpage-2.title")}</h1>
        <p set:html={t("routing:subpages.subpage-2.description")} />

        <pre
            class="astro-code github-dark"
            style="background-color:#24292e;color:#e1e4e8;overflow-x:auto"
            tabindex="0"
            data-language="plaintext"><code>{`// Get current language from URL
export function getStaticPaths() {
    return [
        // English route: /dynamic-routing/subpage-2
        // [dyn_routing] = "dynamic-routing" matches the folder name
        // [subpage2] = "subpage-2" is the specific subpage
        // [...index] = undefined means no additional URL segments
        {
            params: {
                dyn_routing: "dynamic-routing",
                subpage2: "subpage-2",
                index: undefined,
            },
            props: { lang: "en" },
        },
        // Slovenian route: /sl/dinamicno-usmerjanje/podstran-2
        // [dyn_routing] = "sl" acts as language prefix in URL
        // [subpage2] = "dinamicno-usmerjanje" is the localized "dynamic-routing" path
        // [...index] = "podstran-2" captures the localized subpage name
        // This creates the final URL: /sl/dinamicno-usmerjanje/podstran-2
        {
            params: {
                dyn_routing: "sl",
                subpage2: "dinamicno-usmerjanje",
                index: "podstran-2",
            },
            props: { lang: "sl" },
        },
    ];
}`}</code></pre>
    </section>
    <section aria-label={t("component:title")} id="md-content">
        <h2>{t("component:title")}</h2>
        <p set:html={t("component:description")} />
        <Counter
            client:load
            translations={{
                title: t("component:framework", { framework: "Svelte" }),
                body: t("component:body"),
            }}
        />
    </section>
</Base>
